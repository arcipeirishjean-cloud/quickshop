<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QuickShop Cart</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html">QuickShop</a>
    <a class="btn btn-outline-light" href="index.html">Continue shopping</a>
  </div>
</header>

<main class="container py-5">
  <h2>Your Cart</h2>
  <div id="cartList"></div>
  <div class="mt-3">
    <button id="clearCart" class="btn btn-outline-secondary">Clear Cart</button>
    <button id="checkout" class="btn btn-primary ms-2">Checkout</button>
  </div>
</main>

<script>
  function getCart(){ try { return JSON.parse(localStorage.getItem('qs_cart') || '[]'); } catch(e) { return []; } }
  function setCart(c){ localStorage.setItem('qs_cart', JSON.stringify(c)); renderCart(); }
  function renderCart(){ const list = getCart(); const cont = document.getElementById('cartList'); if(list.length===0){ cont.innerHTML='<p>Your cart is empty.</p>'; return; } cont.innerHTML = list.map((it, i)=>`<div class="d-flex align-items-center gap-3 mb-3">
      <img src="${it.image}" class="cart-item-image">
      <div class="flex-grow-1"><strong>${it.name}</strong><div class="text-muted">$${(it.price||0).toFixed(2)} x ${it.qty}</div></div>
      <div><button class="btn btn-sm btn-outline-secondary btn-decr" data-i="${i}">-</button> <button class="btn btn-sm btn-outline-secondary btn-incr" data-i="${i}">+</button></div>
    </div>`).join(''); }
  document.getElementById('cartList').addEventListener('click', (e)=>{
    const de = e.target.closest('.btn-decr'); const inr = e.target.closest('.btn-incr'); if(!de && !inr) return; const idx = parseInt((de||inr).dataset.i,10); const cart = getCart(); if(de){ cart[idx].qty = Math.max(0,(cart[idx].qty||1)-1);} else { cart[idx].qty = (cart[idx].qty||1)+1; } const next = cart.filter(i=>i.qty>0); setCart(next);
  });
  document.getElementById('clearCart').addEventListener('click', ()=>{ if(confirm('Clear cart?')){ localStorage.removeItem('qs_cart'); renderCart(); } });
  document.getElementById('checkout').addEventListener('click', ()=>{ alert('Checkout not implemented in demo.'); });
  renderCart();
</script>
</body>
</html>